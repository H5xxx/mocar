<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="minimal-ui,width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>选择车型</title>
    <link rel='stylesheet' href='../css/base.css'>
    <link rel='stylesheet' href='../css/home.css'>
    <link rel="stylesheet" href="../css/service.css">
    <link rel='stylesheet' href='../css/cart.css'>
    <link rel='stylesheet' href='../css/schedule.css'>
    <link rel='stylesheet' href='../css/success.css'>
    <script src="../js/lib/template.js"></script>
    <script src="../js/lib/sea.js"></script>
    <script src="../js/lib/zepto.js"></script>
    <script src="../js/lib/spine.js"></script>
    <script src="../js/lib/route.js"></script>
    <script src="../js/lib/manager.js"></script>

    <script id="template-home" type="text/html">
        <div class="j-home-container">
            <div id='mocar-service-home'>
                <div class='logo-area'>
                    <img src="../css/icons/mocar.png" alt="摩卡服务" width="308" height="160">
                </div>
                <ul class='service-list'>
                    {{each services as service i}}
                    <li class='service-item'>
                        <!-- 这里需要逻辑判断，如果是新用户，nav到选车页面；如果是老用户，直接nav到选择服务类型页面，在服务类型页面里面选车 -->
                        <a href="javascript:void(0)" class="j-nav" data-nav="/service/{{service.id}}/cart">
                            <i class="site-icons icon-{{service.icon}}"></i>
                            <div class="content-area border-bottom">
                                <p class="title">{{service.name}}</p>
                                <span class="info">
                                    <span class="price">{{service.price}}元起</span>
                                    ——
                                    <span>{{service.description}}</span>
                                </span>
                            </div>
                        </a>
                    </li>
                    {{/each}}
                </ul>
            </div>
        </div>
    </script>
    <script id="template-navigator" type="text/html">
        <div class="crumble">
            {{if brand_id}}
                <span class="j-nav" data-nav="/service/{{service_id}}/brand">{{brand}}</span>
                {{if series_id}}
                    <span class="j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series">>> {{family}}</span>
                    {{if model_id}}
                        <span class="j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series/{{series_id}}/model">>> {{model}}</span>
                        <span class="j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series/{{series_id}}/model/{{model_id}}/displacement">>> 排量</span>
                    {{else}}
                        <span class="j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series/{{series_id}}/model">>> 年款</span>
                    {{/if}}
                {{else}}
                    <span class="j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series">>> 车系</span>
                {{/if}}
            {{else}}
                <span class="j-nav" data-nav="/service/{{service_id}}/brand">品牌</span>
            {{/if}}
        </div>
    </script>

    <script id="template-brand" type="text/html">
        <div class="j-brand-container">
            {{include 'template-navigator'}}
            <div class="j-brand-list">
                {{each list as item i}}
                    <div class="brand-item j-nav" data-nav="/service/{{service_id}}/brand/{{item.id}}/series">
                        <span>{{item.brand}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>

    <script id="template-series" type="text/html">
        <div class="j-series-container">
            {{include 'template-navigator'}}
            <div class="j-series-list">
                {{each list as item i}}
                    <div class="series-item j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series/{{item.id}}/model">
                        <span>{{item.prefix}} {{item.family}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>

    <script id="template-model" type="text/html">
        <div class="j-model-container">
            {{include 'template-navigator'}}
            <div class="j-model-list">
                {{each list as item i}}
                    <div class="model-item j-nav" data-nav="/service/{{service_id}}/model/{{item.id}}/cart">
                        <span>{{item.suffix}} {{item.model}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>

    <script id="template-displacement" type="text/html">
        <div class="j-displacement-container">
            {{include 'template-navigator'}}
            <div class="j-displacement-list">
            {{each list as item i}}
                <div class="displacement-item j-nav" data-nav="/service/{{service_id}}/brand/{{brand_id}}/series/{{series_id}}/model/{{model_id}}/displacement/{{item.displacement_id}}/service">
                    <span>{{item.displacement}}</span>
                </div>
            {{/each}}
            </div>
        </div>
    </script>
    <!-- -->
    <script id="template-buyelsetip" type="text/html">
        <div class="buyelse-popup mocar-tip-popup">
            <div class="title">选择配件</div>
            <div class="popup-content">
                <p>摩卡提供和使用的所有配件，均可<br/>在京东自营商店买到。</p>
                <br>
                <p>如果你选择自行购买配件，下单后</br>我们会将对应的配件信息发送给您。</p>
            </div>
            <div class="command-area">
                <a href="javascript:void(0);" class="mocarbtn">选择摩卡配件</a>
                <a href="javascript:void(0);" class="buyelsebtn">自行购买</a>
            </div>
        </div>
    </script>
    <!-- 选择服务类型 与 配件 页面 模板 -->
    <script id="template-cart" type="text/html">
        <div class="j-cart-container">
            <div id='accessories-info'>
                <div id='car-info' class='mt20px'>
                    <i class='site-icons icon-car'></i>
                    <div class='content-area form-row'>
                        <p class="accessory info">车辆型号</p>
                        <div class='select-wrapper'>
                            <div class='custom-select-trigger'>
                                <span class='product-name'>奥迪 国产A4 1.8T</span>    
                            </div>
                            <input type="text" name="carInput" style="display:none">
                        </div>
                    </div>
                </div>
                <div id='service-info' class=''>
                    <i class='site-icons icon-service'></i>
                    <div class='content-area form-row'>
                        <p class="accessory info">服务项目</p>
                        <div class="select-wrapper">
                            <div class='custom-select-trigger'>
                                <span class='product-name'>摩卡汽车保养服务</span>
                                <span class='price'>160元</span>    
                            </div>
                            <input type="text" name="serviceInput" style="display:none">
                        </div>
                    </div>
                </div>
                <div id='service-detail' class=''>
                    <i class='site-icons icon-accessory'></i>
                    <div class='content-area'>
                        <ul>
                            <li class='form-row'>
                                <p class="accessory info">
                                    机油
                                </p>
                                <div class="select-wrapper">
                                    <div class='custom-select-trigger'>
                                        <span class='product-name'>嘉实多磁护SN级5w-40</span>
                                        <span class='price'>260元</span>    
                                    </div>
                                    <input type="text" name="accessoryInput" placeholder='请选择...' style="display:none">
                                </div>
                            </li>
                            <li class='form-row'>
                                <p class="accessory info">
                                    机滤
                                </p>
                                <div class="select-wrapper">
                                    <div class='custom-select-trigger'>
                                        <span class='product-name'>曼牌 W 940/25</span>
                                        <span class='price'>260元</span>    
                                    </div>
                                    <input type="text" name="accessoryInput" style="display:none">
                                </div>
                            </li>
                            <li class='form-row'>
                                <p class="accessory info">
                                    空气过滤器
                                </p>
                                <div class="select-wrapper">
                                    <div class='custom-select-trigger'>
                                        <span class='product-name'>曼牌 C27 192/1</span>
                                        <span class='price'>260元</span>    
                                    </div>
                                    <input type="text" name="accessoryInput" style="display:none">
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class='footer'>
                <a href="javascript:void(0);" class="j-nav" data-nav="/service/2/model/2/schedule">
                    <i class='site-icons icon-nextstep'></i>
                </a>
                <div class='content-area justify-wrap'>
                    <span class='tip justify-content'>总价：<span>667</span>元</span>
                </div> 
            </div>
        </div>
    </script>
    <!-- 预约上门信息 页面 模板 -->
    <script id="template-schedule" type="text/html">
        <div class="j-schedule-container">
            <div id='schedule-info'>
                <div id='generalAddress' class='hight110px'>
                    <i class="site-icons icon-location"></i>
                    <div class='content-area zero-font-size'>
                        <span class='first border-bottom'>
                            <div class="select-wrapper">
                                <div class='custom-select-trigger'>
                                    <span class='product-name'>北京市</span>  
                                </div>
                                <input type="text" name="cityInput" style="display:none">
                            </div>
                        </span>
                        <span class='second border-bottom'>
                            <div class="select-wrapper">
                                <div class='custom-select-trigger'>
                                    <span class='product-name'>海淀区</span>  
                                </div>
                                <input type="text" name="districtInput" style="display:none">
                            </div>
                        </span>
                    </div>
                </div>
                <div id='detailAddress' class='hight110px'>
                    <div class='content-area border-bottom'>
                        <input type="text" name='detailAddressInput' id='detailAddressInput' placeholder='输入详细地址'>
                    </div>
                </div>
                <div id='scheduleTime' class='hight110px'>
                    <i class="site-icons icon-time"></i>
                    <div class='content-area zero-font-size'>
                        <span class='first border-bottom'>
                            <div class="select-wrapper">
                                <div class='custom-select-trigger'>
                                    <span class='product-name'>2014-07-22</span>  
                                </div>
                                <input type="text" name="dayInput" style="display:none">
                            </div>
                        </span>
                        <span class='second border-bottom'>
                            <div class="select-wrapper">
                                <div class='custom-select-trigger'>
                                    <span class='product-name'>13:00</span>  
                                </div>
                                <input type="text" name="timeInput" style="display:none">
                            </div>
                        </span>
                    </div>
                </div>
                <div id='carNo' class='hight110px'>
                    <i class="site-icons icon-car"></i>

                    <div class='content-area border-bottom'>
                        <input type="text" placeholder='车牌号，例如京NB520Z' id='carNoInput' name='carNoInput'>
                    </div>
                </div>
                <div id='name' class='hight110px'>
                    <i class="site-icons icon-user"></i>
                    <div class='content-area border-bottom'>
                        <input type="text" placeholder='姓名' id='nameInput' name='nameInput'>
                    </div>
                </div>
                <div id='phoneNumber' class='hight110px'>
                    <i class="site-icons icon-phone"></i>
                    <div class='content-area border-bottom'>
                        <input type="tel" placeholder='手机号码' id='phoneInput' name='phoneInput'>
                    </div>
                </div>
            </div>
            <div class='footer'>
                <a href="javascript:void(0);" class="j-nav" data-nav="/service/2/model/1/success">
                    <i class='site-icons icon-success'></i>
                </a>
                <div class='content-area justify-wrap'>
                    <span class='tip justify-content'>总价：<span>667</span>元</span>
                </div> 
            </div>
        </div>
    </script>
    <!-- 预约成功 页面 模板 -->
    <script id="template-success" type="text/html">
        <div class="j-success-container">
            <div id='schedule-success'>
                <div id='success-tip' class='header'>
                    <i class='site-icons icon-success'></i>
                    <div class='content-area'>
                        <div class='justify'>
                            <span class='tip'>稍候客服会联系您确认服务信息，请保持手机通讯畅通</span>
                        </div>
                    </div> 
                </div>
                <div id='car-info' class='mt20px'>
                    <i class='site-icons icon-car'></i>
                    <div class='content-area form-row'>
                        <div class='justify'>
                            <span class="brand info">奥迪</span>
                            <span class='model info'>国产A4</span>
                            <span class="displacement info">1.8T</span>
                            <span class='carNo info last'>NB520Z</span>
                        </div>
                    </div>
                </div>
                <div id='service-info' class=''>
                    <i class='site-icons icon-service'></i>

                    <div class='content-area form-row'>
                        <span class="brand info">摩卡汽车保养服务</span>
                        <span class='carNo info last'>160元</span>
                    </div>
                </div>
                <div id='service-detail' class=''>
                    <i class='site-icons icon-accessory'></i>

                    <div class='content-area'>
                        <ul>
                            <li class='form-row'>
                                <p class="accessory info">机油</p>
                                <span class='model info'>嘉实多磁护SN级5w-40</span>
                                <span class='carNo info last'>260元</span>
                            </li>
                            <li class='form-row'>
                                <p class="accessory info">机滤</p>
                                <span class='model info'>曼牌 W 940/25</span>
                                <span class='carNo info last'>NB520Z</span>
                            </li>
                            <li class='form-row'>
                                <p class="accessory info">空气过滤器</p>
                                <span class='model info'>曼牌 C27 192/1</span>
                                <span class='carNo info last'>NB520Z</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id='address-info' class=''>
                    <i class='site-icons icon-location'></i>
                    <div class='content-area form-row pr10px'>
                            <span class='city info'>北京市</span>
                            <span class='district info'>海淀区</span>
                            <span class='district info'>
                                西二旗西路领秀新硅谷D区54号101
                            </span>
                    </div>
                </div>
                <div id='schedule-info' class=''>
                    <i class='site-icons icon-time'></i>
                    <div class='content-area form-row'>
                            <span class='day info'>2014-07-22</span>
                            <span class='time info last'>13:00</span>
                    </div>
                </div>
                
            </div>
            <div class='footer'>
                <a href="javascript:void(0);" class="j-nav" data-nav="/home">
                    <i class='site-icons icon-home'></i>
                </a>
                <div class='content-area justify-wrap'>
                    <span class='tip justify-content'>总价：<span>667</span>元</span>
                </div> 
            </div>
        </div>
    </script>

</head>
<body>

    <!-- main-container是所有内容的容器，保持在页面中居中，通过控制main-container的宽度可以实现响应式 -->
    <div id="main-container" class="main-container">

        <div class="page-container" id='car-home'></div>
        <div class="page-container" id='car-brand'></div>
        <div class="page-container" id='car-series'></div>
        <div class="page-container" id='car-model'></div>
        <div class="page-container" id='car-cart'></div>
        <div class="page-container" id='car-schedule'></div>
        <div class="page-container" id='car-success'></div>

    </div>

    <script>

    seajs.config({
      alias: {
        "mock": "http://mockjs.com/dist/mock.js"
      }
    })

    seajs.use("../js/page/index");
    </script>

</body>

</html>