<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="minimal-ui,width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>选择车型</title>
    <link rel="stylesheet" href="../css/service.css">
    <script src="../js/lib/template.js"></script>
    <script src="../js/lib/sea.js"></script>
    <script src="../js/lib/zepto.js"></script>
    <script src="../js/lib/spine.js"></script>
    <script src="../js/lib/route.js"></script>
    <script src="../js/lib/manager.js"></script>

    <script id="template-navigator" type="text/html">
        <div class="crumble">
            {{if brand_id}}
                <span class="j-nav" data-nav="/brand">{{brand}}</span>
                {{if series_id}}
                    <span class="j-nav" data-nav="/brand/{{brand_id}}/series">{{family}}</span>
                    {{if model_id}}
                        <span class="j-nav" data-nav="/brand/{{brand_id}}/series/{{series_id}}/model">{{model}}</span>
                        <span class="j-nav" data-nav="/brand/{{brand_id}}/series/{{series_id}}/model/{{model_id}}/displacement">排量</span>
                    {{else}}
                        <span class="j-nav" data-nav="/brand/{{brand_id}}/series/{{series_id}}/model">年款</span>
                    {{/if}}
                {{else}}
                    <span class="j-nav" data-nav="/brand/{{brand_id}}/series">车系</span>
                {{/if}}
            {{else}}
                <span class="j-nav" data-nav="/brand">品牌</span>
            {{/if}}
        </div>
    </script>

    <script id="template-brand" type="text/html">
        <div class="j-brand-container">
            {{include 'template-navigator'}}
            <div class="j-brand-list">
                {{each list as item i}}
                    <div class="brand-item j-nav" data-nav="/brand/{{item.id}}/series">
                        <span>{{item.brand}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>

    <script id="template-series" type="text/html">
        <div class="j-series-container">
            {{include 'template-navigator'}}
            <div class="j-series-list">
                {{each list as item i}}
                    <div class="series-item j-nav" data-nav="/brand/{{brand_id}}/series/{{item.id}}/model">
                        <span>{{item.prefix}} {{item.family}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>

    <script id="template-model" type="text/html">
        <div class="j-series-container">
            {{include 'template-navigator'}}
            <div class="j-model-list">
                {{each list as item i}}
                    <div class="model-item j-nav" data-nav="/brand/{{brand_id}}/series/{{series_id}}/model/{{item.id}}/displacement">
                        <span>{{item.suffix}} {{item.model}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>

    <script id="template-displacement" type="text/html">
        <div class="j-series-container">
            {{include 'template-navigator'}}
            <div class="j-displacement-list">
            {{each list as item i}}
                <div class="displacement-item j-nav" data-nav="/brand">
                    <span>{{item.displacement_name}}</span>
                </div>
            {{/each}}
            </div>
        </div>
    </script>

</head>
<body>

    <div id='car-brand'></div>
    <div id='car-series'></div>
    <div id='car-model'></div>
    <div id='car-displacement'></div>

    <script>

    seajs.config({
      alias: {
        "mock": "http://mockjs.com/dist/mock.js"
      }
    })

    seajs.use("../js/page/service");
    </script>

</body>

</html>