<!DOCTYPE html>
<html lang="en">

<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
    <meta name="viewport" content="minimal-ui,width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>上门信息</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/service.css">
    <link rel="stylesheet" href="../css/door.css">
    <script src="../js/lib/template.js"></script>
    <script src="../js/lib/sea.js"></script>
    <script src="../js/lib/zepto.js"></script>
    <script src="../js/lib/spine.js"></script>

    <script id="template-item" type="text/html">
        {{each data as value i}}
            <div class="brand-item" data-id="{{value.brand-id}}">
                <img src="{{value.logo_img_url}}" alt="">
                <span>{{value.brand_name}}</span>
            </div>
        {{/each}}
    </script>
</head>

<body>
    <!-- 上门信息 开始 -->
    <div id='schedule-info'>
        <div id='generalAddress' class='hight110px'>
            <i class="site-icons icon-location"></i>
            <div class='content-area zero-font-size'>
                <span class='first border-bottom'>
                    <div class="select-wrapper">
                        <div class='custom-select-trigger'>
                            <span class='product-name'>北京市</span>  
                        </div>
                        <input type="text" name="cityInput" style="display:none">
                    </div>
                </span>
                <span class='second border-bottom'>
                    <div class="select-wrapper">
                        <div class='custom-select-trigger'>
                            <span class='product-name'>海淀区</span>  
                        </div>
                        <input type="text" name="districtInput" style="display:none">
                    </div>
                </span>
            </div>
        </div>
        <div id='detailAddress' class='hight110px'>
            <div class='content-area border-bottom'>
                <input type="text" name='detailAddressInput' id='detailAddressInput' placeholder='输入详细地址'>
            </div>
        </div>
        <div id='scheduleTime' class='hight110px'>
            <i class="site-icons icon-time"></i>
            <div class='content-area zero-font-size'>
                <span class='first border-bottom'>
                    <div class="select-wrapper">
                        <div class='custom-select-trigger'>
                            <span class='product-name'>2014-07-22</span>  
                        </div>
                        <input type="text" name="dayInput" style="display:none">
                    </div>
                </span>
                <span class='second border-bottom'>
                    <div class="select-wrapper">
                        <div class='custom-select-trigger'>
                            <span class='product-name'>13:00</span>  
                        </div>
                        <input type="text" name="timeInput" style="display:none">
                    </div>
                </span>
            </div>
        </div>
        <div id='carNo' class='hight110px'>
            <i class="site-icons icon-car"></i>

            <div class='content-area border-bottom'>
                <input type="text" placeholder='车牌号，例如京NB520Z' id='carNoInput' name='carNoInput'>
            </div>
        </div>
        <div id='name' class='hight110px'>
            <i class="site-icons icon-user"></i>
            <div class='content-area border-bottom'>
                <input type="text" placeholder='姓名' id='nameInput' name='nameInput'>
            </div>
        </div>
        <div id='phoneNumber' class='hight110px'>
            <i class="site-icons icon-phone"></i>
            <div class='content-area border-bottom'>
                <input type="text" placeholder='手机号码' id='phoneInput' name='phoneInput'>
            </div>
        </div>
    </div>
    <div class='footer'>
        <a href="./success.html">
            <i class='site-icons icon-success'></i>
        </a>
        <div class='content-area justify-wrap'>
            <span class='tip justify-content'>总价：<span>667</span>元</span>
        </div> 
    </div>
    <!-- 上门信息 结束 -->
    <script>
        seajs.use('../js/widgets/CustomSelect', function (CustomSelect) {
            initSelect();
            function initSelect () {
                var optArrs = [
                    [
                        ['北京市'],
                        ['上海市'],
                        ['广州市'],
                        ['天津市']
                    ],
                    [
                        ['东城区'],
                        ['朝阳区'],
                        ['海淀区'],
                        ['西城区']
                    ],
                    [
                        ['2014-07-22'],
                        ['2014-07-23'],
                        ['2014-07-24'],
                        ['2014-07-25'],
                        ['2014-07-26'],
                        ['2014-07-27'],
                        ['2014-07-28']
                    ],
                    [
                        ['08:00'],
                        ['09:00'],
                        ['10:00'],
                        ['11:00'],
                        ['12:00'],
                        ['13:00'],
                        ['14:00'],
                        ['15:00'],
                        ['16:00'],
                        ['17:00']
                    ]
                ];
                var selectWrappers = document.querySelectorAll('.select-wrapper');
                var selectWrapper, selectTrigger, selectInput;

                for(var i = 0, ilen = selectWrappers.length; i < ilen; i++){
                    selectWrapper = selectWrappers[i];
                    selectTrigger = selectWrapper.querySelector('.custom-select-trigger');
                    selectInput = selectWrapper.querySelector('input');
                    
                    if(selectTrigger && selectInput){
                        (function(selectTrigger, selectInput, optArr){
                            new CustomSelect(selectTrigger, selectInput, optArr,  function onchange(selectedIndex){
                                if(selectedIndex !== -1){
                                    var productNameEl = selectTrigger.querySelector('.product-name');
                                    var priceEl = selectTrigger.querySelector('.price');
                                    productNameEl.innerHTML = optArr[selectedIndex][0];
                                    if(priceEl){
                                        priceEl.innerHTML = optArr[selectedIndex][1];
                                    }
                                }
                            });
                        })(selectTrigger, selectInput, optArrs[i])
                    }
                };
            }
        });
    </script>
</body>

</html>